<div id="addQuestionToGroup" class="container">
  <button class="btn btn-outline-primary mb-3" type="button"
          data-bs-toggle="collapse"
          [attr.data-bs-target]="'#collapseQuestionform' + index" aria-expanded="false"
          [attr.aria-controls]="'#collapseQuestionform' + index">
    Frage hinzufügen
  </button>
  <div [attr.id]="'collapseQuestionform' + index" class="collapse mb-2">
    <div class="card card-body">
      <form id="addQuestion" th:object="${newQuestion}"
            th:action="@{'/createSurvey/questions/addQuestion/{questionGroupIndex}' (questionGroupIndex=${questionGroupStat.index})}"
            th:method="POST" class="container">
        <div class="row mb-3">
          <div class="col">
            <label for="question" class="form-label">Frage</label>
            <input id="question" class="form-control" type="text"
                   th:field="${newQuestion.text}" required>
          </div>
        </div>
        <div class="row mb-3">
          <div class="col-4">
            <input th:id="'required' + ${questionGroupStat.index}" class="form-check-input"
                   type="checkbox" value="1" th:field="${newQuestion.required}">
            <label th:for="'required' + ${questionGroupStat.index}" class="form-check-label">
              Erforderlich?
            </label>
          </div>
          <div class="col-8">
            <span class="me-3">Antwortmöglichkeit:</span>
            <input th:id="'textQuestion' + ${questionGroupStat.index}" class="form-check-input"
                   name="questionType" type="radio"
                   th:value="false" th:field="${newQuestion.hasCheckbox}"
                   data-bs-toggle="collapse" aria-expanded="false"
                   th:data-bs-target="'#checkboxGroupForm' + ${questionGroupStat.index}"
                   th:aria-controls="'#checkboxGroupForm' + ${questionGroupStat.index}">
            <label th:for="'textQuestion' + ${questionGroupStat.index}"
                   class="form-check-label me-3">
              Freitext
            </label>
            <input th:id="'checkboxQuestion' + ${questionGroupStat.index}"
                   class="form-check-input"
                   name="questionType" type="radio"
                   th:value="true" th:field="${newQuestion.hasCheckbox}"
                   data-bs-toggle="collapse" aria-expanded="false"
                   th:data-bs-target="'#checkboxGroupForm' + ${questionGroupStat.index}"
                   th:aria-controls="'#checkboxGroupForm' + ${questionGroupStat.index}">
            <label th:for="'checkboxQuestion' + ${questionGroupStat.index}"
                   class="form-check-label">
              Auswahl
            </label>
          </div>
        </div>
        <div class="mb-3">
          <div class="container collapse"
               th:id="'checkboxGroupForm' + ${questionGroupStat.index}">
            <div class="card card-body">
              <div class="container">
                <div class="row mb-3">
                  <div class="col">
                    <label for="multipleSelect" class="form-check-label">
                      Mehrfachauswahl?
                    </label>
                    <input id="multipleSelect" class="form-check-input"
                           type="checkbox" value="1"
                           th:field="${newCheckboxGroup.multipleSelect}"
                           th:onchange="document.getElementById('minSelect' + [[${questionGroupStat.index}]]).disabled = !this.checked;
                                                                       document.getElementById('maxSelect' + [[${questionGroupStat.index}]]).disabled = !this.checked;">
                  </div>
                  <div class="col">
                    <label th:for="'minSelect' + ${questionGroupStat.index}"
                           class="form-label">
                      Minimum:
                    </label>
                    <input th:id="'minSelect' + ${questionGroupStat.index}"
                           class="form-control" type="number"
                           th:field="${newCheckboxGroup.minSelect}" disabled>
                  </div>
                  <div class="col">
                    <label th:for="'maxSelect' + ${questionGroupStat.index}"
                           class="form-label">
                      Maximal:
                    </label>
                    <input th:id="'maxSelect' + ${questionGroupStat.index}"
                           class="form-control" type="number" min="2"
                           th:field="${newCheckboxGroup.maxSelect}" disabled>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <button type="submit" class="btn btn-primary float-end">
          Hinzufügen
        </button>
      </form>
    </div>
  </div>
</div>
